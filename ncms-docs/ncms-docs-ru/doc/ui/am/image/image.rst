.. _am_image:

Картинка (image)
================

Атрибут, с помощью которого можно задать файл изображения и отобразить его в контексте
страницы сайта. ηCMS поддерживает автоматическое масштабирование изображения в зависимости
от параметров атрибута.


Опции атрибута
--------------

.. figure:: img/image_img1.png

    Опции атрибута


=============================== =========
Опция                           Описание
=============================== =========
**Ширина**                      Желаемая ширина изображения при отображении изображения.
**Высота**                      Желаемая высота изображения при отображении изображения.
**Автомасштабирование**         Включить/выключить автоматическое масштабирование изображения
                                в соответствии с шириной (и/или) высотой.
**Заполнить область**           Интеллектуальный режим масштабирования, при котором картинка масштабируется
                                так, чтобы заполнилась указанная область с сохранением соотношения сторон изображения.
**Проверять размер**            Если включен этот флаг, то загружаемое пользователем изображение будет проверяться
                                на соответствие указанной ширине и высоте.
**Не масштабировать маленькие** Не производить масштабирование изображений, актуальный размер
                                которых меньше указанных ограничений. Этот режим полезен для
                                того, чтобы избежать появления зернистости при увеличении
                                маленьких изображений.
=============================== =========


Режим редактирования
--------------------

.. figure:: img/image_img2.png

    Атрибут на панели редактирования страницы

При нажатии на кнопку выбора изображения ηCMS
предлагает выбрать файл изображения:


.. figure:: img/image_img3.png

    Выбор файла изображения


.. figure:: img/image_img4.png

    Атрибут после выбора изображения


Использование в разметке
------------------------

**Тип значения атрибута:** :ref:`com.softmotions.ncms.mhttl.Image`


Пример вставки масштабируемой картинки в качестве элемента `<img>`:

.. code-block:: html

    #set(Image img = asm('image'))
    <img src="$!{img.link}"></img>

или:

.. code-block:: html

    <img src="$!{((Image) asm('image')).link}"></img>


.. _com.softmotions.ncms.mhttl.Image:

com.softmotions.ncms.mhttl.Image
--------------------------------

.. js:attribute:: Long Image.id

    Идентификатор медиафайла в репозитории ηCMS

.. js:function:: String getLink()

    Возвращает ссылку на изображение в правильном масштабе.

    **Изображение в httl разметке**::

    <img src="$!{img.link}" ...>

