.. _am_asmref:

Вставка сборки (asmref)
=======================

Этот атрибут предоставляет возможность включать :term:`сборки <сборка>` друг в друга.
Включение сборки подразумевает рендеринг содержимого сборки (так, как если бы к ней
обратились напрямую) в контексте другой собрки. При этом для включаемой сборки
должна быть задана :term:`разметка <ядро>`. Очевидно, что без разметки включаемая сборка
не может быть представлена, как отдельная страница.

.. warning::

    Для сборки, которая будет включена, должна быть указана :term:`разметка <ядро>`.
    В противном случае, этот атрибут не будет отображен, а в журналах ηCMS будет записана
    ошибка.

Опции атрибута
--------------

.. figure:: img/asmref_img3.png

    Опции атрибута

Этот атрибут требует обязательного задания включаемой сборки.


Режим редактирования
--------------------

В режиме редактирования контента элемент выбора
значения для атрибута такой же, как в опциях.


Пример использования
--------------------

В данном примере мы создадим :term:`сборку <сборка>` с именем `docsink_included_assembly`:

.. image:: img/asmref_img1.png


Для этой сборки создадим простой текстовой атрибут `greeting`
со значением `Hello from included assembly`:

.. image:: img/asmref_img2.png

Для сборки создадим файл разметки `/site/docsink/included_asm_core.httl` со следующим содержимым:

.. code-block:: html

    <div>
       <strong>${asm('greeting')}</strong>
    </div>

Затем создадим сборку, в которую будет
включен контент `docsink_included_assembly`.
Разметка этой сборки будет содержать::

    Asmref:

    $!{asm('asmref')}

Перейдя в атрибуты сборки создадим атрибут с именем `asmref`  и
типом `asmref`:

.. image:: img/asmref_img3.png

Нажав на кнопку `Выбор сборки (assembly)`, укажем включаемую сборку:

.. image:: img/asmref_img4.png


При открытии страницы этой сборки
получим:

.. image:: img/asmref_img5.png




