.. _cookbook:

.. contents::

.. _best_practices:

Рецепты и лучшие практики
=========================

.. _best_practices1:

Определяйте шаблоны для страниц с общей структурой
--------------------------------------------------

Страницы ваших сайтов можно разделить по группам страниц, имеющих общую структуру, например:

* Стандартные страницы с контентом
* Страницы подразделений корпоративного сайта
* Новости
* Блог посты
* Страницы с описанием продукта или услуги
* ...

Для каждой группы страниц должен быть *шаблон* с общей разметкой типовой страницы в группе и общими
:term:`атрибутами <атрибут>`, разделяемыми всеми страницами группы (шаблоны страниц создаются в редакторе сборок).
В этом случае создание типовой страницы из группы для редактора сводится к выбору доступного шаблона
и заполнению атрибутов, необходимых для отображения страницы по выбранному шаблону.

**Но что делать со страницами со свободной структурой?** Например, это может быть *лендинг страницы*,
рекламные страницы с уникальной структурой. Нет необходимости определять отдельный шаблон для
каждой подобной страницы. Мы можем определить базовый шаблон для всех подобных страниц, в
котором будут присутствовать:

* атрибут с типом `core` (разметка страницы),
* опционально - атрибуты с типом `fileref` с дополнительными css стилями страницы.

И после этого использовать возможности выбора разметки страницы и смены стилей прямо в интерфейсе редактирования
контента страницы (раздел `Страницы`).

.. _best_practices2:

Определяйте атрибуты страниц, которые имеет смысл редактировать
---------------------------------------------------------------

Нет необходимости для каждой зоны с данными страницы определять отдельный
редактируемый атрибут, поскольку, возможно, его значение никогда не будет
меняться редакторами страниц.

**Пример:** в редактируемый атрибут шаблона
добавлен wiki атрибут с именем `copyright`, который содержит
одну сроку::

    Все права защищены моей компанией

Эта строка никогда не будет меняться отдельно для каждой страницы,
а если и будет меняться, то для всех страниц. Лучше эти данные перенести прямо в шаблон
страницы и вместо:

.. code-block:: html

    <footer>
        ${asm('copyright')}
    </footer>

Прямо в шаблоне написать:

.. code-block:: html

    <footer>
        Все права защищены моей компанией
    </footer>


В случае необходимости изменения этих данных это можно сделать в разделе `Медиа`
прямо в тексте разметки страницы.

Существует множество других примеров, когда не стоит данные разметки страницы переносить
в редактируемые редактором сайта атрибуты шаблона. Необходимость редактируемого атрибута
должна определяться частотой изменения этих данных во время жизни страницы. Если данные
будут меняться крайне редко или вовсе не будут меняться - перенесите их в разметку. Тем
самым вы снизите сложность интерфейса редактирования страницы для редакторов.




